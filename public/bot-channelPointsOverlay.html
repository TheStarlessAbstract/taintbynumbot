<!DOCTYPE html>
<html>
    <head>
        <title>Socket.IO chat</title>
        <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    </head>
    <body>
        <audio id="myAudio">
            <source src="" id="source">
        </audio>
        <script src="/socket.io/socket.io.js"></script>
        <script>
            var socket = io();
            var x = document.getElementById("myAudio"); 
            var source = document.getElementById("source");
            console.log(x)

            x.addEventListener("ended", () => {
                socket.emit("ended", "response");
            }, false);

            socket.on("playAudio", (url) => {
                source.src = url;
                x.load()
                x.play();
            });
        </script>
    </body>
</html>